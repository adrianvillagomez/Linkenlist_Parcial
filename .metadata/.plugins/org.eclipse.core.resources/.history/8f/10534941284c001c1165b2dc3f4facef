/*
 ============================================================================
 Name        : ParcialLinkenlist.c
 Author      : 
 Version     :
 Copyright   : Your copyright notice
 Description : Hello World in C, Ansi-style
 ============================================================================
 */

#include <stdio.h>
#include <stdlib.h>
#include "LinkedList.h"
#include "Validaciones.h"
#include "Arcades.h"
#include "Controller.h"
/****************************************************
    Menu:
        Cargar los datos de los empleados desde el archivo data.csv (modo texto).
     1. Alta de arcade
     2. Modificar datos arcade
     3. Baja de arcade
     4. IMPRIMIR ARCADES ordenados por nombre de juego
     5. Generar archivo con JUEGOS
     6. Generar un archivo con arcades “Multijugador” (mas de 1 jugador)
     7. Actualizar cantidad de fichas.
    10. Salir
*****************************************************/
int main(void) {
	setbuf(stdout,NULL);
	int flag='y';
	LinkedList* listaArcades = ll_newLinkedList();
	controller_loadFromText("pruebaD.csv", listaArcades);

	do{
		switch(menu())
		{
			case 1:
				if(controller_addArcade(listaArcades)==0)
				{
					controller_saveAsText("pruebaD.csv", listaArcades);
					printf("Alta con exito!Imprima la lista para ver los cambios.\n\n");
				}else
				{
					printf("Algo salio mal con el Alta \n");
				}

				break;
			case 2:
				if(controller_modificarArcade(listaArcades)==0)
				{
					controller_saveAsText("pruebaD.csv", listaArcades);
				}else
				{
					printf("Algo salio mal con la modificacion \n");
				}
				break;
			case 3:
				controller_removeArcade(listaArcades);
				controller_saveAsText("pruebaD.csv", listaArcades);
				break;
			case 4:
				controller_sortEmployee(listaArcades);
				break;
			case 5:
				controller_loadFromTextJuegos("juegos.txt",listaArcades);//punto6
				break;
			case 6:
				controller_filtrarArcades(listaArcades);
				break;
			case 7:
				controller_actualizarCantidadFichas(listaArcades);
				break;
			case 8:
				controller_listArcade(listaArcades);
				break;
		}
	}while(flag=='y');



	//salon no id --no abm-- campo salon como un campo entra de salone
	// ojo con el 6
	return EXIT_SUCCESS;
}
